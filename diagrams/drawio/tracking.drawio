<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0" version="29.2.7">
  <diagram name="Tracking Pipeline" id="tracking-pipeline">
    <mxGraphModel dx="1700" dy="958" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=33;fontColor=#64748B;fontStyle=1" value="TRACKING PIPELINE (csttool track)" vertex="1">
          <mxGeometry height="80" width="1470" x="45" y="20" as="geometry" />
        </mxCell>
        <mxCell id="inputs-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF7ED;strokeColor=#A25700;strokeWidth=1.5;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=top;fontSize=16;fontColor=default;" value="&lt;div&gt;&lt;b&gt;Inputs:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Preprocessed DWI&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_dwi_preproc.nii.gz&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_dwi_preproc.bval&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_dwi_preproc.bvec&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="280" x="80" y="120" as="geometry" />
        </mxCell>
        <mxCell id="outputs-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;labelPosition=center;verticalLabelPosition=middle;align=center;verticalAlign=middle;fontSize=16;fontColor=default;" value="&lt;div&gt;&lt;b&gt;Outputs:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Whole Brain Tractogram&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_whole_brain.trk&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Scalar Maps&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_fa.nii.gz&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;*_md.nii.gz&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="320" x="480" y="120" as="geometry" />
        </mxCell>
        <mxCell id="deps-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#EC4899;strokeWidth=2;verticalAlign=top;fontSize=16;" value="&lt;div&gt;&lt;b&gt;Dependencies:&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;DIPY (DTI, tracking, IO)&lt;/div&gt;&lt;div&gt;nibabel&lt;/div&gt;&lt;div&gt;numpy&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="280" x="920" y="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#E2E8F0;fontSize=15;" value="" vertex="1">
          <mxGeometry height="170" width="200" x="1320" y="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=15;" value="&lt;b&gt;Legend&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="200" x="1320" y="130" as="geometry" />
        </mxCell>
        <mxCell id="legend-input" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontSize=15;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1340" y="160" as="geometry" />
        </mxCell>
        <mxCell id="legend-input-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=15;" value="Input Data" vertex="1">
          <mxGeometry height="25" width="100" x="1370" y="155" as="geometry" />
        </mxCell>
        <mxCell id="legend-process" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=15;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1340" y="190" as="geometry" />
        </mxCell>
        <mxCell id="legend-process-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=15;" value="Processing Step" vertex="1">
          <mxGeometry height="25" width="120" x="1370" y="185" as="geometry" />
        </mxCell>
        <mxCell id="legend-output" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=2;fontSize=15;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1340" y="220" as="geometry" />
        </mxCell>
        <mxCell id="legend-output-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=15;" value="Output / Artifact" vertex="1">
          <mxGeometry height="25" width="120" x="1370" y="215" as="geometry" />
        </mxCell>
        <mxCell id="legend-model" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#EC4899;strokeWidth=2;fontSize=15;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1340" y="250" as="geometry" />
        </mxCell>
        <mxCell id="legend-model-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=15;" value="Model" vertex="1">
          <mxGeometry height="25" width="100" x="1370" y="245" as="geometry" />
        </mxCell>
        <mxCell id="pipeline-container" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="680" width="1520" x="40" y="320" as="geometry" />
        </mxCell>
        <mxCell id="input-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="200" width="180" x="80" y="340" as="geometry" />
        </mxCell>
        <mxCell id="input-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="INPUT" vertex="1">
          <mxGeometry height="20" width="180" x="80" y="340" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-1" edge="1" parent="1" source="preproc-nifti" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#000000,#A4A4A4);strokeWidth=2;" target="load-nifti">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="preproc-nifti" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;" value="&lt;b&gt;Preprocessed&lt;br&gt;NIfTI&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;*_dwi_preproc.nii.gz&lt;br&gt;+ .bval + .bvec&lt;/font&gt;" vertex="1">
          <mxGeometry height="90" width="150" x="95" y="380" as="geometry" />
        </mxCell>
        <mxCell id="load-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="200" width="290" x="280" y="340" as="geometry" />
        </mxCell>
        <mxCell id="load-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="LOAD &amp; MASK" vertex="1">
          <mxGeometry height="20" width="200" x="325" y="345" as="geometry" />
        </mxCell>
        <mxCell id="load-nifti" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;load_nifti&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;+ get_gtab&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="110" x="305" y="375" as="geometry" />
        </mxCell>
        <mxCell id="arrow-to-mask" edge="1" parent="1" source="load-nifti" style="endArrow=classic;html=1;strokeWidth=1.5;strokeColor=#555555;" target="brain-mask" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-2" edge="1" parent="1" source="brain-mask" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#000000,#A4A4A4);strokeWidth=2;" target="tensor-model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="brain-mask" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;Brain Mask&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;median_otsu&lt;/font&gt;" vertex="1">
          <mxGeometry height="45" width="110" x="305" y="445" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-3" edge="1" parent="1" source="brain-mask-out" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;strokeColor=light-dark(#000000,#A4A4A4);strokeWidth=2;" target="csa-model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="brain-mask-out" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1;fontSize=10;" value="brain_mask" vertex="1">
          <mxGeometry height="30" width="90" x="450" y="452.5" as="geometry" />
        </mxCell>
        <mxCell id="arrow-mask-out" edge="1" parent="1" source="brain-mask" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#22C55E;" target="brain-mask-out" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tensor-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="200" width="320" x="280" y="560" as="geometry" />
        </mxCell>
        <mxCell id="tensor-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="TENSOR FITTING" vertex="1">
          <mxGeometry height="20" width="320" x="280" y="565" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-5" edge="1" parent="1" source="tensor-model" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#22C55E,#008C34);" target="fa-map">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tensor-model" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#EC4899;strokeWidth=2;" value="&lt;b&gt;TensorModel&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;fit_tensor()&lt;br&gt;DIPY DTI&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="300" y="600" as="geometry" />
        </mxCell>
        <mxCell id="arrow-tensor-measures" edge="1" parent="1" source="tensor-model" style="endArrow=classic;html=1;strokeWidth=1.5;strokeColor=#555555;" target="compute-measures" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-4" edge="1" parent="1" source="compute-measures" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=0;strokeColor=light-dark(#22C55E,#008C34);" target="md-map">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="compute-measures" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;compute_&lt;br&gt;measures&lt;/b&gt;" vertex="1">
          <mxGeometry height="50" width="120" x="300" y="690" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-16" edge="1" parent="1" source="fa-map" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;strokeColor=light-dark(#22C55E,#008C34);strokeWidth=2;" target="fa-output">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="630" y="617" />
              <mxPoint x="630" y="840" />
              <mxPoint x="1240" y="840" />
              <mxPoint x="1240" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-18" edge="1" parent="1" source="fa-map" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#000000,#A4A4A4);" target="terminate-seed">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="590" />
              <mxPoint x="680" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fa-map" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;fontSize=11;" value="&lt;b&gt;FA Map&lt;/b&gt;" vertex="1">
          <mxGeometry height="35" width="80" x="480" y="600" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-17" edge="1" parent="1" source="md-map" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#22C55E,#008C34);strokeWidth=2;" target="md-output">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="667" />
              <mxPoint x="610" y="860" />
              <mxPoint x="1260" y="860" />
              <mxPoint x="1260" y="695" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="md-map" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;fontSize=11;" value="&lt;b&gt;MD Map&lt;/b&gt;" vertex="1">
          <mxGeometry height="35" width="80" x="480" y="650" as="geometry" />
        </mxCell>
        <mxCell id="direction-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="240" width="250" x="640" y="340" as="geometry" />
        </mxCell>
        <mxCell id="direction-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="DIRECTION FIELD" vertex="1">
          <mxGeometry height="20" width="250" x="640" y="345" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-11" edge="1" parent="1" source="csa-model" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="peaks-from-model">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csa-model" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#EC4899;strokeWidth=2;" value="&lt;b&gt;CsaOdfModel&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;sh_order = 6&lt;br&gt;get_directions()&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="205" x="665" y="375" as="geometry" />
        </mxCell>
        <mxCell id="peaks-from-model" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;peaks_from_model&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;symmetric362 sphere&lt;br&gt;rel_peak_thr = 0.8&lt;br&gt;min_sep_angle = 45°&lt;/font&gt;" vertex="1">
          <mxGeometry height="70" width="115" x="655" y="490" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-12" edge="1" parent="1" source="direction-field" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;endArrow=none;endFill=0;strokeWidth=2;strokeColor=light-dark(#000000,#A4A4A4);entryX=0.003;entryY=0.521;entryDx=0;entryDy=0;entryPerimeter=0;" target="local-tracking">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="910" y="525" />
              <mxPoint x="910" y="439" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="direction-field" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;" value="&lt;b&gt;Direction Field&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;PeaksAndMetrics&lt;/font&gt;" vertex="1">
          <mxGeometry height="70" width="80" x="790" y="490" as="geometry" />
        </mxCell>
        <mxCell id="arrow-dir-out" edge="1" parent="1" source="peaks-from-model" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#22C55E;" target="direction-field" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="stopping-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="160" width="250" x="640" y="600" as="geometry" />
        </mxCell>
        <mxCell id="stopping-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="STOPPING &amp; SEEDING" vertex="1">
          <mxGeometry height="20" width="250" x="640" y="605" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-8" edge="1" parent="1" source="terminate-seed" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=0;strokeColor=light-dark(#22C55E,#008C34);" target="stopping-criterion">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-9" edge="1" parent="1" source="terminate-seed" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#22C55E,#008C34);" target="seeds">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="terminate-seed" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;terminate_and_seed&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;FA threshold = 0.2&lt;br&gt;seed_density = 1&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="125" x="655" y="650" as="geometry" />
        </mxCell>
        <mxCell id="stopping-criterion" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;fontSize=10;" value="&lt;b&gt;Stopping&lt;br&gt;Criterion&lt;/b&gt;" vertex="1">
          <mxGeometry height="40" width="65" x="820" y="630" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-10" edge="1" parent="1" source="seeds" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#000000,#A4A4A4);strokeWidth=2;endArrow=none;endFill=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="703" />
              <mxPoint x="930" y="440" />
            </Array>
            <mxPoint x="940" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="seeds" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;fontSize=11;" value="&lt;b&gt;Seeds&lt;/b&gt;" vertex="1">
          <mxGeometry height="35" width="65" x="820" y="685" as="geometry" />
        </mxCell>
        <mxCell id="tracking-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="420" width="290" x="940" y="340" as="geometry" />
        </mxCell>
        <mxCell id="tracking-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="TRACTOGRAPHY" vertex="1">
          <mxGeometry height="20" width="290" x="940" y="345" as="geometry" />
        </mxCell>
        <mxCell id="arrow-stop-track" edge="1" parent="1" source="stopping-criterion" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#555555;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="local-tracking" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="920" y="650" />
              <mxPoint x="920" y="440" />
            </Array>
            <mxPoint x="960" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="local-tracking" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;" value="&lt;b&gt;LocalTracking&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Deterministic&lt;br&gt;step_size = 0.5 mm&lt;/font&gt;" vertex="1">
          <mxGeometry height="70" width="140" x="1020" y="402.5" as="geometry" />
        </mxCell>
        <mxCell id="arrow-track-stream" edge="1" parent="1" source="local-tracking" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#555555;" target="streamlines" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="streamlines" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;Streamlines()&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;generator&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="130" x="1025" y="502.5" as="geometry" />
        </mxCell>
        <mxCell id="arrow-stream-save" edge="1" parent="1" source="streamlines" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#555555;" target="save-tractogram" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-13" edge="1" parent="1" source="save-tractogram" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;curved=0;strokeColor=light-dark(#22C55E,#008C34);strokeWidth=2;entryX=0;entryY=0.466;entryDx=0;entryDy=0;entryPerimeter=0;" target="whole-brain">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="618" />
              <mxPoint x="1260" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="save-tractogram" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=1.5;" value="&lt;b&gt;save_tractogram_trk&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;StatefulTractogram&lt;br&gt;Space.RASMM&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="140" x="1020" y="587.5" as="geometry" />
        </mxCell>
        <mxCell id="output-section" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#94A3B8;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="420" width="240" x="1280" y="340" as="geometry" />
        </mxCell>
        <mxCell id="output-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontColor=#64748B;fontStyle=1" value="OUTPUT" vertex="1">
          <mxGeometry height="20" width="200" x="1300" y="345" as="geometry" />
        </mxCell>
        <mxCell id="whole-brain" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=3;" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Whole Brain&lt;br&gt;Tractogram&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;*_whole_brain.trk&lt;/font&gt;" vertex="1">
          <mxGeometry height="80" width="180" x="1310" y="392.5" as="geometry" />
        </mxCell>
        <mxCell id="scalar-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontColor=#166534;" value="&lt;b&gt;Scalar Maps&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="180" x="1310" y="580" as="geometry" />
        </mxCell>
        <mxCell id="fa-output" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=2;" value="&lt;b&gt;FA Map&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;*_fa.nii.gz&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="180" x="1310" y="605" as="geometry" />
        </mxCell>
        <mxCell id="md-output" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=2;" value="&lt;b&gt;MD Map&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;*_md.nii.gz&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="180" x="1310" y="670" as="geometry" />
        </mxCell>
        <mxCell id="report" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCFCE7;strokeColor=#22C55E;strokeWidth=1.5;" value="&lt;b&gt;Tracking Report&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;*_tracking_report.json&lt;/font&gt;" vertex="1">
          <mxGeometry height="50" width="180" x="1310" y="515" as="geometry" />
        </mxCell>
        <mxCell id="cli-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF7ED;strokeColor=#FB923C;strokeWidth=1;align=left;spacingLeft=15;fontSize=12;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;CLI Parameters:&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;csttool track&lt;br&gt;&lt;br&gt;--nifti&lt;/font&gt; Preprocessed NIfTI&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--out&lt;/font&gt; Output directory&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--fa-thr&lt;/font&gt; FA threshold (0.2)&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--seed-density&lt;/font&gt; Seeds/voxel (1)&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--step-size&lt;/font&gt; Step in mm (0.5)&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--sh-order&lt;/font&gt; SH order (6)&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;--show-plots&lt;/font&gt; QC visualizations&lt;/div&gt;" vertex="1">
          <mxGeometry height="200" width="200" x="95" y="770" as="geometry" />
        </mxCell>
        <mxCell id="struct-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0FDF4;strokeColor=#22C55E;strokeWidth=1;align=left;spacingLeft=15;fontSize=12;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Output Structure:&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot;&gt;output/&lt;br&gt;├── *_whole_brain.trk&lt;br&gt;├── scalar_maps/&lt;br&gt;│&amp;nbsp;&amp;nbsp; ├── *_fa.nii.gz&lt;br&gt;│&amp;nbsp;&amp;nbsp; └── *_md.nii.gz&lt;br&gt;└── logs/&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; └── *_tracking_report.json&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="200" width="200" x="325" y="770" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-14" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontColor=#166534;" value="&lt;b&gt;Tractogram&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="180" x="1310" y="372.5" as="geometry" />
        </mxCell>
        <mxCell id="De8gAG6BXYWYcI0mR0qQ-15" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontColor=#166534;" value="&lt;b&gt;Report&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="180" x="1310" y="495" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
